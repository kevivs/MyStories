import"../chunks/DsnmJJEf.js";import"../chunks/BA_OyZiC.js";import{a as ne,w as ee,s as q,e as P,o as oe}from"../chunks/UYt86Dtz.js";import{aA as ce,aB as le,aC as fe,o as de,q as F,v as he,A as ue,B as ve,C as pe,D as ge,I as me,U as _e,G as ye,aD as be,aE as we,aF as Te,aG as Ae,Q as Ne,E as Se,aH as ke,aI as Ee,au as xe,aJ as Ie,aK as Ce,aL as Re,aM as Fe,a3 as Le,aN as I,b as k,p as te,i as L,m as w,g as v,aw as x,s as U,n as T,t as z,e as C,k as E,l as ae,N as A,aO as K,aP as Me,az as W}from"../chunks/BeKTMQs8.js";import{p as Oe,i as re}from"../chunks/chg8BQ0A.js";import{i as se}from"../chunks/4tTJiTsi.js";import{b as R}from"../chunks/DCOcqSuD.js";function ze(t,e,a){F&&he();var r=t,s=_e,i,o,n=null,p=ce()?le:fe;function c(){i&&ye(i),n!==null&&(n.lastChild.remove(),r.before(n),n=null),i=o}de(()=>{if(p(s,s=e())){var g=r,y=ge();y&&(n=document.createDocumentFragment(),n.append(g=ue())),o=ve(()=>a(g)),y?pe.add_callback(c):c()}}),F&&(r=me)}const J=[...` 	
\r\fÂ \v\uFEFF`];function He(t,e,a){var r=""+t;if(a){for(var s in a)if(a[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,o=0;(o=r.indexOf(s,o))>=0;){var n=o+i;(o===0||J.includes(r[o-1]))&&(n===r.length||J.includes(r[n]))?r=(o===0?"":r.substring(0,o))+r.substring(n+1):o=n}}return r===""?null:r}function qe(t,e,a,r,s,i){var o=t.__className;if(F||o!==a||o===void 0){var n=He(a,r,i);(!F||n!==t.getAttribute("class"))&&(n==null?t.removeAttribute("class"):t.className=n),t.__className=a}else if(i&&s!==i)for(var p in i){var c=!!i[p];(s==null||c!==!!s[p])&&t.classList.toggle(p,c)}return i}const Pe=Symbol("is custom element"),Ue=Symbol("is html");function Q(t,e,a,r){var s=Be(t);F&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=a)&&(e==="loading"&&(t[be]=a),a==null?t.removeAttribute(e):typeof a!="string"&&De(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function Be(t){return t.__attributes??={[Pe]:t.nodeName.includes("-"),[Ue]:t.namespaceURI===we}}var V=new Map;function De(t){var e=V.get(t.nodeName);if(e)return e;V.set(t.nodeName,e=[]);for(var a,r=t,s=Element.prototype;s!==r;){a=Ae(r);for(var i in a)a[i].set&&e.push(i);r=Te(r)}return e}const Ge=()=>performance.now(),N={tick:t=>requestAnimationFrame(t),now:()=>Ge(),tasks:new Set};function ie(){const t=N.now();N.tasks.forEach(e=>{e.c(t)||(N.tasks.delete(e),e.f())}),N.tasks.size!==0&&N.tick(ie)}function $e(t){let e;return N.tasks.size===0&&N.tick(ie),{promise:new Promise(a=>{N.tasks.add(e={c:t,f:a})}),abort(){N.tasks.delete(e)}}}function O(t,e){ee(()=>{t.dispatchEvent(new CustomEvent(e))})}function je(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Y(t){const e={},a=t.split(";");for(const r of a){const[s,i]=r.split(":");if(!s||i===void 0)break;const o=je(s.trim());e[o]=i.trim()}return e}const Ke=t=>t;function Z(t,e,a,r){var s=(t&Ce)!==0,i=(t&Re)!==0,o=s&&i,n=(t&Ie)!==0,p=o?"both":s?"in":"out",c,g=e.inert,y=e.style.overflow,m,f;function l(){return ee(()=>c??=a()(e,r?.()??{},{direction:p}))}var u={is_global:n,in(){if(e.inert=g,!s){f?.abort(),f?.reset?.();return}i||m?.abort(),O(e,"introstart"),m=B(e,l(),f,1,()=>{O(e,"introend"),m?.abort(),m=c=void 0,e.style.overflow=y})},out(b){if(!i){b?.(),c=void 0;return}e.inert=!0,O(e,"outrostart"),f=B(e,l(),m,0,()=>{O(e,"outroend"),b?.()})},stop:()=>{m?.abort(),f?.abort()}},_=Ne;if((_.transitions??=[]).push(u),s&&ne){var d=n;if(!d){for(var h=_.parent;h&&(h.f&Se)!==0;)for(;(h=h.parent)&&(h.f&ke)===0;);d=!h||(h.f&Ee)!==0}d&&xe(()=>{k(()=>u.in())})}}function B(t,e,a,r,s){var i=r===1;if(Fe(e)){var o,n=!1;return Le(()=>{if(!n){var _=e({direction:i?"in":"out"});o=B(t,_,a,r,s)}}),{abort:()=>{n=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(a?.deactivate(),!e?.duration)return s(),{abort:I,deactivate:I,reset:I,t:()=>r};const{delay:p=0,css:c,tick:g,easing:y=Ke}=e;var m=[];if(i&&a===void 0&&(g&&g(0,1),c)){var f=Y(c(0,1));m.push(f,f)}var l=()=>1-r,u=t.animate(m,{duration:p,fill:"forwards"});return u.onfinish=()=>{u.cancel();var _=a?.t()??1-r;a?.abort();var d=r-_,h=e.duration*Math.abs(d),b=[];if(h>0){var D=!1;if(c)for(var G=Math.ceil(h/16.666666666666668),H=0;H<=G;H+=1){var $=_+d*y(H/G),j=Y(c($,1-$));b.push(j),D||=j.overflow==="hidden"}D&&(t.style.overflow="hidden"),l=()=>{var M=u.currentTime;return _+d*y(M/h)},g&&$e(()=>{if(u.playState!=="running")return!1;var M=l();return g(M,1-M),!0})}u=t.animate(b,{duration:h,fill:"forwards"}),u.onfinish=()=>{l=()=>r,g?.(r,1-r),s()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=I)},deactivate:()=>{s=I},reset:()=>{r===0&&g?.(1,0)},t:()=>l()}}const S=[{id:1,title:"Exposition - Arrival at the Estate",imageSrc:`${R}/Arrival/arrival.png`,storyText:`Aditya Verma, a landscape architect from the city, receives an unusual contract - to restore the gardens of an old estate inherited by a mysterious absentee owner. The estate, known locally as Rasa Manor, sits at the outskirts of a forgotten town, its name erased from most maps. The assignment is generous in payment but comes with one condition: he must stay on the premises for the duration.

The caretaker, an aging man with cloudy eyes and a voice like dried leaves, leaves only one warning: "Never step on the chessboard after midnight."

Theme: Curiosity and ambition draw people into dark places masked as opportunity.`},{id:2,title:"Rising Tension - The Garden's Rules",imageSrc:`${R}/Rising/rising.png`,storyText:`Each day, Aditya documents the garden's strange layout: winding paths that change subtly overnight, statues that seem... slightly different in position every morning, and the chessboard pattern in the lawn that feels cold beneath his feet.

His nights are worse. Whispers ride the wind. Once, he sees the tall lamppost flicker like a heartbeat. One night, he hears soft footsteps along the stone path, though no one should be there. The gazebos seem... occupied when they shouldn't be. Furniture inside shifts. Candles light themselves.

And every evening, the statues seem closer.

Conflict: Aditya begins to question his sanity as the garden alters reality around him. Something is manipulating time and space - or his mind.`},{id:3,title:"Climax - The Midnight Move",imageSrc:`${R}/Climax/climax.png`,storyText:`Curiosity wins. At exactly midnight, Aditya steps onto the chessboard.

The garden shifts. The light from the tall lamppost expands unnaturally, revealing grotesque forms in the darkness - not statues, but frozen people, their faces twisted in agony. The path beneath him now leads not to the gazebo, but to the center of the chessboard where a large, black knight piece - now life-sized - waits.

A voice booms from nowhere and everywhere: "White to move."

The garden becomes the board. Aditya is now a pawn.

He realizes: this estate is a curse - an eternal game played by something that feeds on decisions, fear, and sacrifice. Every new arrival is a new piece. And once moved, they can never leave.

Conflict & Theme: Free will vs. manipulation. The illusion of control. The price of crossing thresholds uninvited.`},{id:4,title:"Falling Action - The Pieces in Place",imageSrc:`${R}/Falling/falling.png`,storyText:`Aditya tries to escape, running from path to path, but finds each route looping back to the center. The garden changes with each attempt, more wild, less manicured - revealing ancient roots and stone faces watching him.

He finds old journals in the gazebo: from past victims - a botanist, a journalist, a sculptor. Each of them left cryptic diagrams of the board and notes on forbidden moves.

He's not the first. He won't be the last.`},{id:5,title:"Resolution - Checkmate or Repetition",imageSrc:`${R}/Resolution/resolution.png`,storyText:`At dawn, the garden resets. The statues return to their previous positions. The chessboard is pristine again.

The caretaker greets the next visitor with the same words: "Never step on the chessboard after midnight."

Aditya now stands near the lamppost. A new statue. His eyes scream silently.

The garden waits for the next move.

Theme: Horror is cyclical. The past becomes part of the architecture of evil.`}];var We=L('<div class="image-placeholder svelte-1r5t67s"><p class="svelte-1r5t67s"> </p></div>'),Je=L('<img loading="lazy"/>'),Qe=L('<div class="scene-container svelte-1r5t67s"><!> <div class="text-content svelte-1r5t67s"><h2 class="svelte-1r5t67s"> </h2> <p class="svelte-1r5t67s"> </p></div></div>');function Ve(t,e){te(e,!1);let a=Oe(e,"scene",8),r=x(!1),s=x(!1);function i(){A(r,!0),A(s,!1)}function o(){A(s,!0),console.error("Failed to load image:",a().imageSrc)}se();var n=Qe(),p=w(n);{var c=_=>{var d=We(),h=w(d),b=w(h);T(h),T(d),z(()=>q(b,`Image not found: ${C(a()),k(()=>a().title)??""}`)),E(_,d)},g=_=>{var d=Je();let h;z(b=>{Q(d,"src",(C(a()),k(()=>a().imageSrc))),Q(d,"alt",(C(a()),k(()=>a().title))),h=qe(d,1,"scene-image svelte-1r5t67s",null,h,b)},[()=>({loading:!v(r)})]),P("load",d,i),P("error",d,o),E(_,d)};re(p,_=>{v(s)?_(c):_(g,!1)})}var y=U(p,2),m=w(y),f=w(m,!0);T(m);var l=U(m,2),u=w(l,!0);T(l),T(y),T(n),z(()=>{q(f,(C(a()),k(()=>a().title))),q(u,(C(a()),k(()=>a().storyText)))}),E(t,n),ae()}const Ye=t=>t;function X(t,{delay:e=0,duration:a=400,easing:r=Ye}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:r,css:i=>`opacity: ${i*s}`}}var Ze=L("<div><!></div>"),Xe=L('<main class="svelte-1fcqt6c"><!> <button class="svelte-1fcqt6c"><!></button></main>');function ot(t,e){te(e,!1);const a=x(),r=x();let s=x(0),i=x(!1);function o(){v(i)||(A(i,!0),console.log("Current scene index:",v(s),"Total scenes:",S.length),v(r)?(A(s,0),console.log("Restarting story")):(A(s,Math.min(v(s)+1,S.length-1)),console.log("Advanced to scene:",v(s))),setTimeout(()=>{A(i,!1)},1e3))}oe(()=>{console.log("Story loaded with",S.length,"scenes")}),K(()=>v(s),()=>{A(a,S[v(s)]||S[0])}),K(()=>(v(s),S),()=>{A(r,v(s)===S.length-1)}),Me(),se();var n=Xe(),p=w(n);ze(p,()=>(v(a),k(()=>v(a).id)),f=>{var l=Ze(),u=w(l);Ve(u,{get scene(){return v(a)}}),T(l),Z(1,l,()=>X,()=>({duration:800,delay:200})),Z(2,l,()=>X,()=>({duration:400})),E(f,l)});var c=U(p,2),g=w(c);{var y=f=>{var l=W("Restart");E(f,l)},m=f=>{var l=W("Next");E(f,l)};re(g,f=>{v(r)?f(y):f(m,!1)})}T(c),T(n),z(()=>c.disabled=v(i)),P("click",c,o),E(t,n),ae()}export{ot as component};
