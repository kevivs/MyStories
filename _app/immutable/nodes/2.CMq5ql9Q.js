import"../chunks/DsnmJJEf.js";import"../chunks/BA_OyZiC.js";import{a as he,w as se,s as $,e as K,o as ue}from"../chunks/UYt86Dtz.js";import{q as G,v as me,aA as ge,aB as pe,aC as _e,o as be,A as ye,B as we,C as Te,D as Ae,I as Se,U as Ne,G as Ie,aD as ke,aE as xe,aF as Ee,aG as Ce,Q as Le,E as Re,aH as ze,aI as Fe,au as Me,b as k,aJ as Oe,aK as He,aL as $e,aM as qe,a3 as Be,aN as B,p as ie,aO as J,N as h,aw as M,e as F,aP as oe,i as O,m as y,n as w,s as E,g as f,t as U,k as C,l as ne,j as le,_ as Pe,az as Y}from"../chunks/BeKTMQs8.js";import{p as Ue,i as D}from"../chunks/chg8BQ0A.js";import{i as ce}from"../chunks/4tTJiTsi.js";import{b as Q}from"../chunks/CET8TUHG.js";function De(t,e,a){G&&me();var r=t,s=Ne,i,n,l=null,u=ge()?pe:_e;function d(){i&&Ie(i),l!==null&&(l.lastChild.remove(),r.before(l),l=null),i=n}be(()=>{if(u(s,s=e())){var m=r,A=Ae();A&&(l=document.createDocumentFragment(),l.append(m=ye())),n=we(()=>a(m)),A?Te.add_callback(d):d()}}),G&&(r=Se)}const Z=[...` 	
\r\f \v\uFEFF`];function Ge(t,e,a){var r=""+t;if(a){for(var s in a)if(a[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,n=0;(n=r.indexOf(s,n))>=0;){var l=n+i;(n===0||Z.includes(r[n-1]))&&(l===r.length||Z.includes(r[l]))?r=(n===0?"":r.substring(0,n))+r.substring(l+1):n=l}}return r===""?null:r}function je(t,e,a,r,s,i){var n=t.__className;if(G||n!==a||n===void 0){var l=Ge(a,r,i);(!G||l!==t.getAttribute("class"))&&(l==null?t.removeAttribute("class"):t.className=l),t.__className=a}else if(i&&s!==i)for(var u in i){var d=!!i[u];(s==null||d!==!!s[u])&&t.classList.toggle(u,d)}return i}const Ke=Symbol("is custom element"),We=Symbol("is html");function X(t,e,a,r){var s=Je(t);G&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=a)&&(e==="loading"&&(t[ke]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Qe(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function Je(t){return t.__attributes??={[Ke]:t.nodeName.includes("-"),[We]:t.namespaceURI===xe}}var ee=new Map;function Qe(t){var e=ee.get(t.nodeName);if(e)return e;ee.set(t.nodeName,e=[]);for(var a,r=t,s=Element.prototype;s!==r;){a=Ce(r);for(var i in a)a[i].set&&e.push(i);r=Ee(r)}return e}const Ve=()=>performance.now(),R={tick:t=>requestAnimationFrame(t),now:()=>Ve(),tasks:new Set};function fe(){const t=R.now();R.tasks.forEach(e=>{e.c(t)||(R.tasks.delete(e),e.f())}),R.tasks.size!==0&&R.tick(fe)}function Ye(t){let e;return R.tasks.size===0&&R.tick(fe),{promise:new Promise(a=>{R.tasks.add(e={c:t,f:a})}),abort(){R.tasks.delete(e)}}}function j(t,e){se(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ze(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function te(t){const e={},a=t.split(";");for(const r of a){const[s,i]=r.split(":");if(!s||i===void 0)break;const n=Ze(s.trim());e[n]=i.trim()}return e}const Xe=t=>t;function ae(t,e,a,r){var s=(t&He)!==0,i=(t&$e)!==0,n=s&&i,l=(t&Oe)!==0,u=n?"both":s?"in":"out",d,m=e.inert,A=e.style.overflow,T,S;function p(){return se(()=>d??=a()(e,r?.()??{},{direction:u}))}var g={is_global:l,in(){if(e.inert=m,!s){S?.abort(),S?.reset?.();return}i||T?.abort(),j(e,"introstart"),T=V(e,p(),S,1,()=>{j(e,"introend"),T?.abort(),T=d=void 0,e.style.overflow=A})},out(v){if(!i){v?.(),d=void 0;return}e.inert=!0,j(e,"outrostart"),S=V(e,p(),T,0,()=>{j(e,"outroend"),v?.()})},stop:()=>{T?.abort(),S?.abort()}},N=Le;if((N.transitions??=[]).push(g),s&&he){var I=l;if(!I){for(var o=N.parent;o&&(o.f&Re)!==0;)for(;(o=o.parent)&&(o.f&ze)===0;);I=!o||(o.f&Fe)!==0}I&&Me(()=>{k(()=>g.in())})}}function V(t,e,a,r,s){var i=r===1;if(qe(e)){var n,l=!1;return Be(()=>{if(!l){var N=e({direction:i?"in":"out"});n=V(t,N,a,r,s)}}),{abort:()=>{l=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(a?.deactivate(),!e?.duration)return s(),{abort:B,deactivate:B,reset:B,t:()=>r};const{delay:u=0,css:d,tick:m,easing:A=Xe}=e;var T=[];if(i&&a===void 0&&(m&&m(0,1),d)){var S=te(d(0,1));T.push(S,S)}var p=()=>1-r,g=t.animate(T,{duration:u,fill:"forwards"});return g.onfinish=()=>{g.cancel();var N=a?.t()??1-r;a?.abort();var I=r-N,o=e.duration*Math.abs(I),v=[];if(o>0){var x=!1;if(d)for(var z=Math.ceil(o/16.666666666666668),c=0;c<=z;c+=1){var _=N+I*A(c/z),b=te(d(_,1-_));v.push(b),x||=b.overflow==="hidden"}x&&(t.style.overflow="hidden"),p=()=>{var L=g.currentTime;return N+I*A(L/o)},m&&Ye(()=>{if(g.playState!=="running")return!1;var L=p();return m(L,1-L),!0})}g=t.animate(v,{duration:o,fill:"forwards"}),g.onfinish=()=>{p=()=>r,m?.(r,1-r),s()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=B)},deactivate:()=>{s=B},reset:()=>{r===0&&m?.(1,0)},t:()=>p()}}function P(t){return`${Q}${t}`}const H=[{id:1,title:"Exposition - Arrival at the Estate",imageSrc:P("/Arrival/arrival.png"),storyText:`Aditya Verma, a landscape architect from the city, receives an unusual contract - to restore the gardens of an old estate inherited by a mysterious absentee owner. The estate, known locally as Rasa Manor, sits at the outskirts of a forgotten town, its name erased from most maps. The assignment is generous in payment but comes with one condition: he must stay on the premises for the duration.

The caretaker, an aging man with cloudy eyes and a voice like dried leaves, leaves only one warning: "Never step on the chessboard after midnight."

Theme: Curiosity and ambition draw people into dark places masked as opportunity.`},{id:2,title:"Rising Tension - The Garden's Rules",imageSrc:P("/Rising/rising.png"),storyText:`Each day, Aditya documents the garden's strange layout: winding paths that change subtly overnight, statues that seem... slightly different in position every morning, and the chessboard pattern in the lawn that feels cold beneath his feet.

His nights are worse. Whispers ride the wind. Once, he sees the tall lamppost flicker like a heartbeat. One night, he hears soft footsteps along the stone path, though no one should be there. The gazebos seem... occupied when they shouldn't be. Furniture inside shifts. Candles light themselves.

And every evening, the statues seem closer.

Conflict: Aditya begins to question his sanity as the garden alters reality around him. Something is manipulating time and space - or his mind.`},{id:3,title:"Climax - The Midnight Move",imageSrc:P("/Climax/climax.png"),storyText:`Curiosity wins. At exactly midnight, Aditya steps onto the chessboard.

The garden shifts. The light from the tall lamppost expands unnaturally, revealing grotesque forms in the darkness - not statues, but frozen people, their faces twisted in agony. The path beneath him now leads not to the gazebo, but to the center of the chessboard where a large, black knight piece - now life-sized - waits.

A voice booms from nowhere and everywhere: "White to move."

The garden becomes the board. Aditya is now a pawn.

He realizes: this estate is a curse - an eternal game played by something that feeds on decisions, fear, and sacrifice. Every new arrival is a new piece. And once moved, they can never leave.

Conflict & Theme: Free will vs. manipulation. The illusion of control. The price of crossing thresholds uninvited.`},{id:4,title:"Falling Action - The Pieces in Place",imageSrc:P("/Falling/falling.png"),storyText:`Aditya tries to escape, running from path to path, but finds each route looping back to the center. The garden changes with each attempt, more wild, less manicured - revealing ancient roots and stone faces watching him.

He finds old journals in the gazebo: from past victims - a botanist, a journalist, a sculptor. Each of them left cryptic diagrams of the board and notes on forbidden moves.

He's not the first. He won't be the last.`},{id:5,title:"Resolution - Checkmate or Repetition",imageSrc:P("/Resolution/resolution.png"),storyText:`At dawn, the garden resets. The statues return to their previous positions. The chessboard is pristine again.

The caretaker greets the next visitor with the same words: "Never step on the chessboard after midnight."

Aditya now stands near the lamppost. A new statue. His eyes scream silently.

The garden waits for the next move.

Theme: Horror is cyclical. The past becomes part of the architecture of evil.`}];var et=O('<div class="image-placeholder svelte-1cfe89v"><p class="svelte-1cfe89v">❌ Image not found</p> <p class="error-detail svelte-1cfe89v"> </p> <button class="svelte-1cfe89v">Retry Loading</button></div>'),tt=O('<div class="loading-indicator svelte-1cfe89v">Loading image...</div>'),at=O('<img loading="eager"/> <!>',1),rt=O('<div class="scene-container svelte-1cfe89v"><div class="scene-debug svelte-1cfe89v"><small class="svelte-1cfe89v"> </small> <small class="svelte-1cfe89v"> </small></div> <!> <div class="text-content svelte-1cfe89v"><h2 class="svelte-1cfe89v"> </h2> <p class="svelte-1cfe89v"> </p></div></div>');function st(t,e){ie(e,!1);let a=Ue(e,"scene",8),r=M(!1),s=M(!1),i=M("");function n(){h(r,!0),h(s,!1),h(i,"Image loaded successfully"),console.log("Image loaded:",a().imageSrc)}function l(c){h(s,!0),h(r,!1),h(i,`Image failed: ${a().imageSrc}`),console.error("Failed to load image:",a().imageSrc),console.error("Image error event:",c);const _=c.target;console.error("Image src at time of error:",_.src),console.error("Current window location:",window.location.href)}J(()=>F(a()),()=>{a()&&(h(i,`Loading: ${a().title}`),h(r,!1),h(s,!1))}),oe(),ce();var u=rt(),d=y(u),m=y(d),A=y(m,!0);w(m);var T=E(m,2),S=y(T);w(T),w(d);var p=E(d,2);{var g=c=>{var _=et(),b=E(y(_),2),L=y(b,!0);w(b);var W=E(b,2);w(_),U(()=>$(L,(F(a()),k(()=>a().imageSrc)))),K("click",W,()=>{h(s,!1),h(r,!1)}),C(c,_)},N=c=>{var _=at(),b=le(_);let L;var W=E(b,2);{var de=q=>{var ve=tt();C(q,ve)};D(W,q=>{!f(r)&&!f(s)&&q(de)})}U(q=>{X(b,"src",(F(a()),k(()=>a().imageSrc))),X(b,"alt",(F(a()),k(()=>a().title))),L=je(b,1,"scene-image svelte-1cfe89v",null,L,q)},[()=>({loading:!f(r)})]),K("load",b,n),K("error",b,l),C(c,_)};D(p,c=>{f(s)?c(g):c(N,!1)})}var I=E(p,2),o=y(I),v=y(o,!0);w(o);var x=E(o,2),z=y(x,!0);w(x),w(I),w(u),U(()=>{$(A,f(i)),$(S,`Image: ${F(a()),k(()=>a().imageSrc)??""}`),$(v,(F(a()),k(()=>a().title))),$(z,(F(a()),k(()=>a().storyText)))}),C(t,u),ne()}const it=t=>t;function re(t,{delay:e=0,duration:a=400,easing:r=it}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:r,css:i=>`opacity: ${i*s}`}}var ot=O('<div class="debug-info svelte-fmzybr"><p class="svelte-fmzybr"> </p> <p class="svelte-fmzybr"> </p> <p class="svelte-fmzybr"></p></div>'),nt=O("<div><!></div>"),lt=O('<div class="error svelte-fmzybr"><p>Error: No scene data loaded</p></div>'),ct=O('<main class="svelte-fmzybr"><!> <!> <button class="svelte-fmzybr"><!></button></main>');function pt(t,e){ie(e,!1);const a=M(),r=M();let s=M(0),i=M(!1),n=M(!1);function l(){f(i)||(h(i,!0),f(r)?h(s,0):h(s,f(s)+1),console.log("Navigated to scene:",f(s)+1),setTimeout(()=>{h(i,!1)},800))}ue(()=>{h(n,!0),console.log("App mounted"),console.log("Base path:",Q),console.log("Total scenes:",H.length),console.log("Location:",window.location.href)}),J(()=>f(s),()=>{h(a,H[f(s)]||H[0])}),J(()=>(f(s),H),()=>{h(r,f(s)===H.length-1)}),oe(),ce();var u=ct(),d=y(u);{var m=o=>{var v=ot(),x=y(v),z=y(x);w(x);var c=E(x,2),_=y(c);w(c);var b=E(c,2);b.textContent=`Location: ${k(()=>window.location.hostname)??""}${k(()=>window.location.pathname)??""}`,w(v),U(()=>{$(z,`Scene: ${f(s)+1}/${F(H),k(()=>H.length)??""} - ${f(a),k(()=>f(a)?.title||"Loading...")??""}`),$(_,`Base: ${Q??""}`)}),C(o,v)};D(d,o=>{f(n)&&o(m)})}var A=E(d,2);{var T=o=>{var v=Pe(),x=le(v);De(x,()=>(f(a),k(()=>f(a).id)),z=>{var c=nt(),_=y(c);st(_,{get scene(){return f(a)}}),w(c),ae(1,c,()=>re,()=>({duration:800,delay:200})),ae(2,c,()=>re,()=>({duration:400})),C(z,c)}),C(o,v)},S=o=>{var v=lt();C(o,v)};D(A,o=>{f(a)?o(T):o(S,!1)})}var p=E(A,2),g=y(p);{var N=o=>{var v=Y("Restart");C(o,v)},I=o=>{var v=Y("Next");C(o,v)};D(g,o=>{f(r)?o(N):o(I,!1)})}w(p),w(u),U(()=>p.disabled=f(i)),K("click",p,l),C(t,u),ne()}export{pt as component};
